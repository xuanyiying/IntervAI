# AI Resume & Interview Assistant - Business Logic & Commercial Model

## 1. 核心价值主张 (Core Value Proposition)
本项目旨在通过 AI 技术为求职者提供全流程的求职辅助，核心解决三大痛点：
1.  **简历不匹配**：简历内容与目标职位 JD 匹配度低，通过 AI 针对性优化解决。
2.  **面试无准备**：缺乏真实的面试演练环境，通过 AI 模拟面试解决。
3.  **反馈不及时**：传统求职缺乏反馈，通过 AI 即时评估报告解决。

## 2. 商业模式 (Commercial Model)
采用 **Freemium (免费增值)** 模式，通过配额限制驱动用户升级。

### 2.1 会员权益分层 (Tiered Benefits)

| 权益 (Feature) | Free (免费版) | Pro (专业版) | Enterprise (企业版) | 商业逻辑 (Rationale) |
| :--- | :--- | :--- | :--- | :--- |
| **简历解析** | 无限 | 无限 | 无限 | 基础获客功能，降低门槛 |
| **简历优化** | **10次 / 小时** | **无限** | 无限 | 高频使用场景，免费版保留体验，限制滥用 |
| **模拟面试** | **3次 / 月** | **无限** | 无限 | **核心增值点**。AI 消耗大，严格限制免费次数，驱动付费 |
| **PDF 导出** | **5份 / 月** | **无限** | 无限 | **核心交付物**。限制导出次数，防止白嫖 |
| **面试报告** | 简略版 (仅分数) | **完整版 (含PDF)** | 完整版 | 只有付费用户才能获得可下载的详细评估资产 |
| **专属模板** | 基础模板 (Classic) | 全量模板 | 定制模板 | 视觉差异化服务 |

### 2.2 配额管理机制 (Quota System)
底层基于 `QuotaService` + Redis 实现精确控制：
*   **优化配额**：基于滑动窗口（1小时）限制，防止高频 API 调用。
*   **面试配额**：基于月度周期限制，控制高成本的长上下文对话。
*   **导出配额**：基于月度周期限制，保护核心资产价值。

## 3. 核心业务闭环 (Core Business Loops)

### 3.1 简历优化闭环 (Optimization Loop)
> 从上传到最终投递的完整流转。

1.  **Input**: 用户上传简历 (PDF/Word) + 粘贴目标职位 (JD)。
2.  **Process**:
    *   解析简历提取结构化数据。
    *   AI 分析匹配度 (Match Score)。
    *   生成针对性建议 (STAR法则优化、关键词补充)。
    *   用户采纳建议，实时更新简历数据。
3.  **Output**: **PDF 导出**。
    *   *商业触点*: 导出时检查 `pdfGenerations` 配额。
    *   *价值交付*: 生成排版精美的 PDF 用于投递。

### 3.2 模拟面试闭环 (Interview Loop)
> 从演练到复盘的能力提升闭环。

1.  **Input**: 选择已优化的简历 + 目标职位。
2.  **Process**:
    *   系统生成定制化题库 (10-15题)。
    *   **实时对话**: 用户语音/文字回答，AI 扮演面试官追问。
    *   *商业触点*: 开启会话时检查 `interviews` 配额 (Free: 3次/月)。
3.  **Output**: **评估报告 (Assessment Report)**。
    *   生成多维度评分 (技术、表达、逻辑)。
    *   **导出报告**: 将对话记录与评估建议生成 PDF 留存。
    *   *价值交付*: 用户获得可复习的面试复盘材料。

## 4. 交互流程设计 (Interaction Design)

### 4.1 引导升级路径
在用户旅程的关键节点植入升级提示：
*   **优化耗尽时**: "您本小时的优化次数已用完，升级 Pro 解锁无限优化。"
*   **面试受限时**: "本月免费面试次数剩余 0 次，升级 Pro 开启无限模拟。"
*   **报告导出时**: "升级 Pro 即可下载详细的面试评估报告 (PDF)。"

### 4.2 资产留存
*   **我的简历**: 永久保存所有历史版本。
*   **面试记录**: 保存所有历史对话和评分，形成用户的"成长档案"。

## 5. 技术支撑 (Technical Architecture)
为支撑上述逻辑，后端服务已做如下升级：
*   **QuotaService**: 新增 `interviews` 计数器，集成 Redis 原子操作保证准确性。
*   **GenerateService**: 新增 `generateInterviewReport` 接口，支持 Markdown 转 PDF，复用 Puppeteer 渲染引擎。
*   **InterviewService**: 深度集成 Quota 检查，在会话创建前进行拦截。

---
*文档版本: v1.0 | 更新时间: 2026-01-15 | 状态: 已实施*
